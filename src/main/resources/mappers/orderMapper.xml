<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="o.r.d">

	<insert id="deliveryinsert">
		INSERT INTO tbl_delivery (delivery_bizrno, delivery_cost, delivery_date)
		VALUES ('316-46-00107', 2500, sysdate+3)
	</insert>

	<select id="orderlist" resultType="CartDTO">
		SELECT * FROM tbl_cart WHERE
		email = #{email}
	</select>

	<select id="adbkconfirm" resultType="DeliveryAdbkDTO">
		SELECT * FROM
		tbl_delivery_adbk WHERE email = #{email} AND delivery_adbk_ncm
		=
		#{delivery_adbk_ncm}
	</select>


	<select id="adbkselect" resultType="DeliveryAdbkDTO">
		SELECT * FROM
		tbl_delivery_adbk WHERE email = #{email}
	</select>

	<insert id="adbkInsert">
		INSERT INTO tbl_delivery_adbk (email,
		delivery_adbk_no, delivery_adbk_ncm,
		delivery_place_tlnum,
		delivery_place_adres,
		delivery_place_adres_detail) VALUES (#{email},
		#{delivery_adbk_no},
		#{delivery_adbk_ncm}, #{delivery_place_tlnum},
		#{delivery_place_adres},
		#{delivery_place_adres_detail})
	</insert>

	<select id="getAdbkNoByEmail" resultType="Integer">
		SELECT
		MAX(delivery_adbk_no) FROM tbl_delivery_adbk WHERE email = #{email}
	</select>
</mapper>

